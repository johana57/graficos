BEGIN;

CREATE TABLE seip_cei_stop_time (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, hours DOUBLE PRECISION NOT NULL, enabled TINYINT(1) NOT NULL, createdAt DATETIME NOT NULL, updatedAt DATETIME NOT NULL, deletedAt DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE seip_cei_stop_time_audit (id INT NOT NULL, rev INT NOT NULL, name VARCHAR(255) DEFAULT NULL, hours DOUBLE PRECISION DEFAULT NULL, enabled TINYINT(1) DEFAULT NULL, createdAt DATETIME DEFAULT NULL, updatedAt DATETIME DEFAULT NULL, deletedAt DATETIME DEFAULT NULL, revtype VARCHAR(4) NOT NULL, PRIMARY KEY(id, rev)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE seip_report_product_unrealized_production (id INT AUTO_INCREMENT NOT NULL, month INT NOT NULL, total DOUBLE PRECISION NOT NULL, day1 DOUBLE PRECISION NOT NULL, day2 DOUBLE PRECISION NOT NULL, day3 DOUBLE PRECISION NOT NULL, day4 DOUBLE PRECISION NOT NULL, day5 DOUBLE PRECISION NOT NULL, day6 DOUBLE PRECISION NOT NULL, day7 DOUBLE PRECISION NOT NULL, day8 DOUBLE PRECISION NOT NULL, day9 DOUBLE PRECISION NOT NULL, day10 DOUBLE PRECISION NOT NULL, day11 DOUBLE PRECISION NOT NULL, day12 DOUBLE PRECISION NOT NULL, day13 DOUBLE PRECISION NOT NULL, day14 DOUBLE PRECISION NOT NULL, day15 DOUBLE PRECISION NOT NULL, day16 DOUBLE PRECISION NOT NULL, day17 DOUBLE PRECISION NOT NULL, day18 DOUBLE PRECISION NOT NULL, day19 DOUBLE PRECISION NOT NULL, day20 DOUBLE PRECISION NOT NULL, day21 DOUBLE PRECISION NOT NULL, day22 DOUBLE PRECISION NOT NULL, day23 DOUBLE PRECISION NOT NULL, day24 DOUBLE PRECISION NOT NULL, day25 DOUBLE PRECISION NOT NULL, day26 DOUBLE PRECISION NOT NULL, day27 DOUBLE PRECISION NOT NULL, day28 DOUBLE PRECISION NOT NULL, day29 DOUBLE PRECISION NOT NULL, day30 DOUBLE PRECISION NOT NULL, day31 DOUBLE PRECISION NOT NULL, enabled TINYINT(1) NOT NULL, createdAt DATETIME NOT NULL, updatedAt DATETIME NOT NULL, deletedAt DATETIME DEFAULT NULL, productReport_id INT NOT NULL, INDEX IDX_BD9726F42C530994 (productReport_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE seip_report_product_inventory (id INT AUTO_INCREMENT NOT NULL, month INT NOT NULL, total DOUBLE PRECISION NOT NULL, day1 DOUBLE PRECISION NOT NULL, day2 DOUBLE PRECISION NOT NULL, day3 DOUBLE PRECISION NOT NULL, day4 DOUBLE PRECISION NOT NULL, day5 DOUBLE PRECISION NOT NULL, day6 DOUBLE PRECISION NOT NULL, day7 DOUBLE PRECISION NOT NULL, day8 DOUBLE PRECISION NOT NULL, day9 DOUBLE PRECISION NOT NULL, day10 DOUBLE PRECISION NOT NULL, day11 DOUBLE PRECISION NOT NULL, day12 DOUBLE PRECISION NOT NULL, day13 DOUBLE PRECISION NOT NULL, day14 DOUBLE PRECISION NOT NULL, day15 DOUBLE PRECISION NOT NULL, day16 DOUBLE PRECISION NOT NULL, day17 DOUBLE PRECISION NOT NULL, day18 DOUBLE PRECISION NOT NULL, day19 DOUBLE PRECISION NOT NULL, day20 DOUBLE PRECISION NOT NULL, day21 DOUBLE PRECISION NOT NULL, day22 DOUBLE PRECISION NOT NULL, day23 DOUBLE PRECISION NOT NULL, day24 DOUBLE PRECISION NOT NULL, day25 DOUBLE PRECISION NOT NULL, day26 DOUBLE PRECISION NOT NULL, day27 DOUBLE PRECISION NOT NULL, day28 DOUBLE PRECISION NOT NULL, day29 DOUBLE PRECISION NOT NULL, day30 DOUBLE PRECISION NOT NULL, day31 DOUBLE PRECISION NOT NULL, enabled TINYINT(1) NOT NULL, createdAt DATETIME NOT NULL, updatedAt DATETIME NOT NULL, deletedAt DATETIME DEFAULT NULL, productReport_id INT NOT NULL, INDEX IDX_40C6726A2C530994 (productReport_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE seip_report_product_unrealized_production ADD CONSTRAINT FK_BD9726F42C530994 FOREIGN KEY (productReport_id) REFERENCES seip_report_product_report (id);
ALTER TABLE seip_report_product_inventory ADD CONSTRAINT FK_40C6726A2C530994 FOREIGN KEY (productReport_id) REFERENCES seip_report_product_report (id);
ALTER TABLE seip_report_product_report_day_stop ADD other_time TINYINT(1) NOT NULL, ADD stopTime_id INT DEFAULT NULL;
ALTER TABLE seip_report_product_report_day_stop ADD CONSTRAINT FK_4D3B86A8D05444C0 FOREIGN KEY (stopTime_id) REFERENCES seip_cei_stop_time (id);
CREATE INDEX IDX_4D3B86A8D05444C0 ON seip_report_product_report_day_stop (stopTime_id);


INSERT INTO `seip_cei_stop_time` (`id`, `name`, `hours`, `enabled`, `createdAt`, `updatedAt`, `deletedAt`) VALUES
(1, 'Medio día', 12, 1, '2015-05-21 15:19:17', '2015-05-21 15:19:17', NULL),
(2, 'Día completo', 24, 1, '2015-05-21 15:20:31', '2015-05-21 15:20:31', NULL),
(3, 'Día y medio', 36, 1, '2015-05-21 15:20:56', '2015-05-21 15:20:56', NULL);

COMMIT;