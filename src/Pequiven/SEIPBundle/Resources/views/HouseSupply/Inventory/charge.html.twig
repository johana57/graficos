{# empty Twig template #}
{% extends 'PequivenSEIPBundle:Template:Developer/Common/formLayoutShow.html.twig' %}
{% import 'PequivenSEIPBundle:Template:Developer/Macros/buttons.html.twig' as buttons %}
{% import 'PequivenSEIPBundle:Template:Developer/Macros/actions.html.twig' as actions %}

{% block javascript %}
    <script type="text/javascript">
        $(document).ready(function ()
        {
            charge();
            function charge() {
                $('.select2').select2({
                    allowClear: true
                });


                $("#HouseSupplyInventoryCharge_date").datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1,
                    dateFormat: "dd/mm/yy"
                });
            }
        });
    </script>  
{% endblock javascript %}


{% block body %}
    <style>
        table#datos{
            border-collapse:separate;
            border-spacing: 0px 10px;
        }
    </style>
    <hgroup id="main-title" class="thin breadcrumb">
        <h1>
            <a href="">Inventario</a>
            <span class="icon-forward"></span>
            {% if (type==1)%}
                <span class="thin">Cargo de Productos</span>            
            {% else %}
                <span class="thin">Descargo de Productos</span>            
            {% endif %}
        </h1>
    </hgroup>
    <br>
    <div class="columns">
        <div class="twelve-columns">
            <form method="POST" action="{{ path("pequiven_housesupply_inventory_charge_create",{'type': type}) }}">
                <center>
                    <table width="90%" style="border: 2px black solid;">
                        <tr style="height: 30px;">
                            <td colspan="2" style="background-color: #AA0000; color: #FFFFFF; font-size: 20pt; vertical-align: middle;">
                                {% if (type==1)%}
                                    Datos del Cargo                                  
                                {% else %}
                                    Datos del Descargo                                   
                                {% endif %}
                            </td>         
                        </tr>
                        <tr>
                            <td width="60%">
                                <table width="100%" class="simple-table" style="background-color: #FFFFFF; border: hidden;">
                                    <tr>
                                        <td class="header bold">
                                            Depósito:
                                        </td>
                                        <td>
                                            <select onchange="this.form.submit();" name="deposit" class="select2 input-xlarge form-control">
                                                {% for depo in deposits %}
                                                    <option value="{{depo.id}}">{{depo.description}}</option>
                                                {% endfor %}
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="header bold">Fecha:</td>
                                        <td>
                                            {{ form_widget(form.date) }}
                                            {{ form_errors(form.date) }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="header bold">Observaciones:</td>
                                        <td>
                                            {{ form_widget(form.observations) }}
                                            {{ form_errors(form.observations) }}
                                        </td>
                                    </tr>
                                </table> 
                            </td>
                            <td width="40%" style="border: 2px black solid;">
                                <table width="100%" class="simple-table">
                                    <tr>
                                        <td style="background-color: #D8D8D8; font-size: 30pt; vertical-align: middle; text-align: center; height: 55px;" colspan="2">                               
                                            {% if (type==1)%}
                                                Cargo:
                                                <span class="green bold">{{ newcharge }}</span>              
                                            {% else %}
                                                Descargo:
                                                <span class="red bold">{{ newcharge }}</span>              
                                            {% endif %}
                                        </td>                                        
                                    </tr>
                                    {% if (lastcharge) %}
                                        <tr>
                                            <td class="header bold">
                                                {% if (type==1)%}                                                
                                                    Último Cargo Realizado:      
                                                {% else %}
                                                    Último Descargo Realizado:      
                                                {% endif %}                                           
                                            </td>
                                            <td>{{ lastcharge.getdate| date("d/m/Y") }}</td>
                                        </tr>
                                        <tr>
                                            <td class="header bold">Total:</td>
                                            <td class="text-left">{{ lastcharge.totalCharge}}</td>
                                        </tr>
                                        <tr>
                                            <td class="header bold">Nro. Ítems:</td>
                                            <td class="text-left">{{ lastcharge.getinventoryChargeItems|length }}</td>
                                        </tr>
                                    {% endif %}
                                </table>
                            </td>
                        </tr>
                    </table>
                    <br>
                    <table width="90%" style="border: 2px black solid;">
                        <tr style="height: 30px;">
                            <td width="50%" style="background-color: #AA0000; color: #FFFFFF; font-size: 20pt; vertical-align: middle;">Productos</td>         
                        </tr>
                        <tr>
                            <td width="50%">
                                <table class="simple-table" width="60%">
                                    <thead>
                                        <tr>
                                            <th class="header" width="10%">Cant</th>
                                            <th class="header" width="50%">Description</th>
                                            <th class="header text-right" width="20%">Costo</th>                                
                                            <th class="header text-right" width="20%">Sub-Total</th>                                
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <td class="text-left">boo</td>
                                    <td class="text-justify">boo</td>
                                    <td class="text-right">boo</td>
                                    <td class="text-right">boo</td>
                                    </tbody>                    
                                </table>
                            </td>
                        </tr>
                    </table>
                    <br>

                    <div class="new-row twelve-columns" style="text-align: right;">
                        {% if (type==1)%}
                            {{ actions.register('Registrar Cargo','green') }}   
                        {% else %}
                            {{ actions.register('Registrar Descargo','red') }}           
                        {% endif %}
                    </div>
                    {{ form_rest(form) }}

                </center>
            </form>
        </div>
    </div>
{% endblock %}

